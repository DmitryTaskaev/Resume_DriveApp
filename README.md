# DriveApp
**WEB прилоэжение которое содержит в себе API и выполняет следующие функции:**
1) Внесение, удаление, обновление данных средствами запросов.
2) Сохранение данных в базе данных MySql
3) Логирование действий пользователя

# Установка
**Для установки необходимо:**
1) Загрузить весь проект на сервер.
1) В файлах `api/function.php` `api/index.php` заменить строчку:
```
$connect = mysqli_connect('localhost','root','root','cardb');
```
Указав свои данные для подключения к PhpMyAdmin </br>
3) Импортировать файл `cardb.sql` в PhpMyAdmin

# API

## Описание API

**Файлы:**
1) `api/inxdex.php` - контроллер API
2) `api/function.php` - содержит в себе описание всех функций

**Функции API:**
1) GetOnUserInfo - Получение информации о пользователе
2) GetOnUserInfoByLogin - Получение информации о пользователе используя Login
3) GetAllDrives - Получение всех поездок
4) GetDrivesOnUser - Получение поездок у пользователя по Login
5) GetDrivesOnCity - Получение поездок по городу
6) GetAllDrivesOnUser - Получение поездок у пользователя по Login
7) GetAllUser - Получение всех пользователей
8) RegisterUser - Регистрация пользователя
9) LoginUser - Авторизация пользователя
10) GetAllLogs - Вывод всех логов
11) GetLogsByAction - Вывод логов по действию
12) GetLogsByUser - Вывод логов по Login
13) AddDrives - Добавление поездки
14) GetActiveReport - Получение активных репортов
15) GetInfoOnReport - Получение информации о репорте
16) CloseReport - Закрытие репортп
17) CheckReport - Функция предназначенная для отображения что репорт был прочтён
18) AddAnswer - Ответ на репорт
19) GetAllApiFunction - Вывод всех функций API
20) OnOffApiFunction - Включение/Выключение API функций
21) UpdateLevelApiFunction - Обновления уровня доступа API функции
22) GetInfoByFunctionId - Получение информации о функции по идентификатору

**Коды ошибок:**

1 - Аккаунт заблокирован <br/>
2 - Пользователь не найден <br/>
3 - Поездок не найдено <br/>

**-------------------КОДЫ РЕГЕСТРАЦИИ / АВТОРИЗАЦИИ--------------** <br/>
001 - Не введено имя <br/>
002 - Не введена фамилия <br/>
003 - Не введен логин <br/>
004 - Не введена почта <br/>
005 - Не введен телефон <br/>
006 - Не введен город <br/>
007 - Не введен пароль <br/>
008 - Не введено подтверждение пароля <br/>
009 - Пароли не совпадают <br/>
0010 - Пользователь с таким номером уже сущетсвует <br/>
0011 - Почта занята <br/>
0012 - Логин занят <br/>
0013 - Пользователь зарегестрирован <br/>
0014 - Неверный парль <br/>
0015 - Пользователь не найден <br/>
0016 - Успешная авторизация <br/>

**-------------------КОДЫ ТЕХ ПОДДЕРЖКИ--------------** <br/>
0001 - Отсутствуют активные репорты <br/>
0002 - Не найден репорт <br/>
0003 - Превышена длина значения <br/>
0004 - Овет не добавлен <br/>
0005 - Пустой ответ <br/>

**-------------------КОДЫ API FUNCTIONS--------------** <br/>
00001 - Функция включена <br/>
00002 - Функция выключена <br/>
00003 - Уровень обновлён <br/>
00004 - Недоступное значение <br/>
00005 - Функция не найдена <br/>
