# DriveApp
**WEB прилоэжение которое содержит в себе API и выполняет следующие функции:**
1) Внесение, удаление, обновление данных средствами запросов.
2) Сохранение данных в базе данных MySql
3) Логирование действий пользователя

# Установка
**Для установки необходимо:**
1) Загрузить весь проект на сервер.
1) В файлах `api/function.php` `api/index.php` заменить строчку:
```
$connect = mysqli_connect('localhost','root','root','cardb');
```
Указав свои данные для подключения к PhpMyAdmin
3) Импортировать файл `cardb.sql` в PhpMyAdmin

# API

## Описание API

**Файлы:**
1) `api/inxdex.php` - контроллер API
2) `api/function.php` - содержит в себе описание всех функций

**Функции API:**
1) GetOnUserInfo - Получение информации о пользователе
2) GetOnUserInfoByLogin - Получение информации о пользователе используя Login
3) GetAllDrives - Получение всех поездок
4) GetDrivesOnUser - Получение поездок у пользователя по Login
5) GetDrivesOnCity - Получение поездок по городу
6) GetAllDrivesOnUser - Получение поездок у пользователя по Login
7) GetAllUser - Получение всех пользователей
8) RegisterUser - Регистрация пользователя
9) LoginUser - Авторизация пользователя
10) GetAllLogs - Вывод всех логов
11) GetLogsByAction - Вывод логов по действию
12) GetLogsByUser - Вывод логов по Login
13) AddDrives - Добавление поездки
14) GetActiveReport - Получение активных репортов
15) GetInfoOnReport - Получение информации о репорте
16) CloseReport - Закрытие репортп
17) CheckReport - Функция предназначенная для отображения что репорт был прочтён
18) AddAnswer - Ответ на репорт
19) GetAllApiFunction - Вывод всех функций API
20) OnOffApiFunction - Включение/Выключение API функций
21) UpdateLevelApiFunction - Обновления уровня доступа API функции
22) GetInfoByFunctionId - Получение информации о функции по идентификатору

**Коды ошибок:**

1 - Аккаунт заблокирован
2 - Пользователь не найден
3 - Поездок не найдено

**-------------------КОДЫ РЕГЕСТРАЦИИ / АВТОРИЗАЦИИ--------------**
001 - Не введено имя
002 - Не введена фамилия
003 - Не введен логин
004 - Не введена почта
005 - Не введен телефон
006 - Не введен город
007 - Не введен пароль
008 - Не введено подтверждение пароля
009 - Пароли не совпадают
0010 - Пользователь с таким номером уже сущетсвует
0011 - Почта занята
0012 - Логин занят
0013 - Пользователь зарегестрирован
0014 - Неверный парль
0015 - Пользователь не найден
0016 - Успешная авторизация

**-------------------КОДЫ ТЕХ ПОДДЕРЖКИ--------------**
0001 - Отсутствуют активные репорты
0002 - Не найден репорт
0003 - Превышена длина значения
0004 - Овет не добавлен
0005 - Пустой ответ

**-------------------КОДЫ API FUNCTIONS--------------**
00001 - Функция включена
00002 - Функция выключена
00003 - Уровень обновлён
00004 - Недоступное значение
00005 - Функция не найдена
